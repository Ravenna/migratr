function getUrlVars(){for(var t=[],r,e=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<e.length;n++)r=e[n].split("="),t.push(r[0]),t[r[0]]=r[1];return t}$(document).ready(function(){function t(t,n){if("staging"===t)var a=e,i="production";else var a=r,i="staging";var c=$("#page-"+i+" textarea").serialize();$.ajax({url:a+"pages/"+n,type:"PUT",crossDomain:!0,dataType:"json",data:c,beforeSend:function(t){t.setRequestHeader("Authorization","Basic "+o.encode("admin_ravenna:KqMw Tj0r pREN tGaP"))},success:function(r,e,n){console.log(r),$("#page-"+t+" textarea").val(r.content.rendered)},error:function(t,r,e){console.log(e.status)}})}var r="http://migrator-one.ravennainteractive.com/wp-json/wp/v2/",e="http://migrator-two.ravennainteractive.com/wp-json/wp/v2/",n=getUrlVars().prodID,a=getUrlVars().stagID;$.get(r+"pages/"+n,function(t){var r=$("#page-production");r.find("p.last-updated span").text(t.modified),r.find("input.title").val(t.title.rendered),$("#page-production textarea").val(t.content.rendered)}),$.get(e+"pages/"+a,function(t){var r=$("#page-staging");r.find("p.last-updated span").text(t.modified),r.find("input.title").val(t.title.rendered),$("#page-staging textarea").val(t.content.rendered)}),$("#to-staging").click(function(){var r=window.confirm("Are you sure?");r===!0&&t("staging",a)}),$("#to-production").click(function(){var r=window.confirm("Are you sure?");r===!0&&t("production",n)});var o={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var r="",e,n,a,i,c,d,f,g=0;for(t=o._utf8_encode(t);g<t.length;)e=t.charCodeAt(g++),n=t.charCodeAt(g++),a=t.charCodeAt(g++),i=e>>2,c=(3&e)<<4|n>>4,d=(15&n)<<2|a>>6,f=63&a,isNaN(n)?d=f=64:isNaN(a)&&(f=64),r=r+this._keyStr.charAt(i)+this._keyStr.charAt(c)+this._keyStr.charAt(d)+this._keyStr.charAt(f);return r},decode:function(t){var r="",e,n,a,i,c,d,f,g=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");g<t.length;)i=this._keyStr.indexOf(t.charAt(g++)),c=this._keyStr.indexOf(t.charAt(g++)),d=this._keyStr.indexOf(t.charAt(g++)),f=this._keyStr.indexOf(t.charAt(g++)),e=i<<2|c>>4,n=(15&c)<<4|d>>2,a=(3&d)<<6|f,r+=String.fromCharCode(e),64!=d&&(r+=String.fromCharCode(n)),64!=f&&(r+=String.fromCharCode(a));return r=o._utf8_decode(r)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var r="",e=0;e<t.length;e++){var n=t.charCodeAt(e);128>n?r+=String.fromCharCode(n):n>127&&2048>n?(r+=String.fromCharCode(n>>6|192),r+=String.fromCharCode(63&n|128)):(r+=String.fromCharCode(n>>12|224),r+=String.fromCharCode(n>>6&63|128),r+=String.fromCharCode(63&n|128))}return r},_utf8_decode:function(t){for(var r="",e=0,n=c1=c2=0;e<t.length;)n=t.charCodeAt(e),128>n?(r+=String.fromCharCode(n),e++):n>191&&224>n?(c2=t.charCodeAt(e+1),r+=String.fromCharCode((31&n)<<6|63&c2),e+=2):(c2=t.charCodeAt(e+1),c3=t.charCodeAt(e+2),r+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),e+=3);return r}}});